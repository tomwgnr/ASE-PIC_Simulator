\documentclass[12pt,a4paper,titlepage,ngerman,pdftex]{report}
\usepackage[utf8]{inputenc}
\usepackage[german]{babel}
\usepackage[T1]{fontenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{acronym}
\usepackage{setspace}
\usepackage{geometry}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{hyperref}
\usepackage{listings}
\usepackage{textcomp}
\usepackage{footnote}
\geometry{a4paper, top=25mm, left=25mm, right=25mm, bottom=25mm,
    headsep=10mm, footskip=12mm}
\usepackage{xcolor}

\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.827, 0.827, 0.827}
\definecolor{dkblue}{rgb}{0,0,.6}
\definecolor{dkyellow}{cmyk}{0,0,.8,.3}

\lstset{
    language        = php,
    basicstyle      = \small\ttfamily,
    keywordstyle    = \color{dkblue},
    stringstyle     = \color{red},
    identifierstyle = \color{mygreen},
    commentstyle    = \color{gray},
    emph            =[1]{php},
    emphstyle       =[1]\color{black},
    emph            =[2]{if,and,or,else},
    emphstyle       =[2]\color{dkyellow}}

\lstset{ %
    backgroundcolor=\color{backcolour},   % choose the background color
    basicstyle=\footnotesize,        % size of fonts used for the code
    breaklines=true,                 % automatic line breaking only at whitespace
    captionpos=b,                    % sets the caption-position to bottom
    commentstyle=\color{mygreen},    % comment style
    escapeinside={\%*}{*)},          % if you want to add LaTeX within your code
    keywordstyle=\color{blue},       % keyword style
    stringstyle=\color{mymauve},     % string literal stylebreakatwhitespace=false,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=true,
    showtabs=false,
    tabsize=2
}

\begin{document}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%    TITLE    %%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \begin{titlepage}
        \centering
        %\includegraphics[width=0.15\textwidth]{pic/picsim_logo_full.png}\par\vspace{1cm}
        {\scshape\LARGE Duale Hochschule Baden-Württemberg \par}
        \vspace{1cm}
        {\scshape\Large Advanced Software Engineering 2 \\--\\ Dokumentation\par}
        \vspace{1.5cm}
        {\huge\bfseries PIC-Simulator\par}
        \vspace{2cm}
        {\Large\itshape David Eymann, Tom Wagner\par}
        \vfill
        Dozent\par
        Daniel \textsc{Lindner}

        \vfill

% Bottom of the page
        {\large \today\par}
    \end{titlepage}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%  LISTINGS  %%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \pagenumbering{Roman}
    \tableofcontents
    \listoffigures
    \lstlistoflistings

    \onehalfspacing
    \pagenumbering{arabic}

    \chapter{Projektbeschreibung}\label{ch:projektbeschreibung}
<<<<<<< Updated upstream
    Als Basis für diese Arbeit dient ein PIC-Simulator, PIC steht hierbei für ein Mikrocontroller von Microchip Technology\footnote{\url{https://en.wikipedia.org/wiki/Microchip_Technology}}.
    Der Simulator ist in C\# geschrieben und mit Windows Forms Erhält er seine Grafische Oberfläche.
    \textbf{Das für diese Abgabe relevante Repository befindet sich unter:} \\ \url{https://github.com/tomwgnr/ASE-PIC_Simulator}\\
=======
    Als Basis für diese Arbeit dient ein PIC-Simulator, PIC steht hierbei für ein Mikrocontroller von Mikrochip Technology\footnote{\url{https://en.wikipedia.org/wiki/Microchip_Technology}} .
    Der Simulator ist in C-\# geschrieben und mit Windows Forms Erhält er seine Grafische Oberfläche.
    \textbf{Das für diese Abgabe relevante Repository befindet sich unter:} \url{https://github.com/tomwgnr/ASE-PIC_Simulator}
>>>>>>> Stashed changes
    
    

    \section{Einrichtung}\label{sec:einrichtung}

    \chapter{Entwicklung}\label{ch:entwicklung}
    \section{Clean Architecture}\label{sec:cleanarchitecture}
 
    \section{Refactoring}\label{sec:refactoring}
    \subsection{Switch-Case in der CPU}
    Natürlich musste der 220 Zeilen lange Switch-Case welcher in der \verb|CPU| Klasse die Befehle aufgrund des eingegebenen \verb|OpCode| 
    gewählt und die hierfür nötigen Berechnungen direkt im Speicher ausführte.
    Dieser wurde in die Klassen \verb|Memory| und \verb|Command| unterteilt. Die Auswahl wird jetzt im \verb|Decoder| erledigt.
    Da die einzelnen Befehle sich sehr ähneln dient die Klasse \verb|Command| nur als Vorlage für die Klassen der Befehle im Namespace commands.
    Hier werden Befehlsspezifische Aufgaben erledigt wie die Ausführung des jeweiligen Befehls aber auch die Überprüfung des OpCodes, um den Decoder sauberer zu halten.
    \subsection{Register}
    Da die Register auch mit vielem Anderen noch in der \verb|Simulator| Klasse  waren wurden diese auch in Einzelne Klassen im Namespace \verb|register| untergebracht. 
    Wie auch bei den Befehlen sind hier grundlegende Aufgaben wie das erstellen des Registers nun in jeder Klasse für jedes Register als Methode untergebracht.
    \subsection{Interupt- und FlankenCheck}
    Auch die Methoden für die Checks auf Interrupts und Flanken wurden im Rahmen des Refactoring in eigene Klassen gepackt um die Simulator Klasse zu vereinfachen.
    \section{Unit-Tests}
    Die Unit-Test können im Ordner /PicSimTest gefunden werden. 
	Mit diesen Tests werden viele unserer Klassen getestet.
	Um die (Unit-)Tests für C\# zu schreiben wird hier das MSTest Framework genutzt welches es in Kombination mit Visual Studio ermöglicht die Tests automatisch laufen zu lassen.
    \subsection{Einsatz von Mocks}
    Zum Testen einiger Methoden werden Mock-Objekte erstellt um die Test so abgetrennt wie möglich halten zu können.
	Um dies einfach machen zu können wird moq\footnote{\url{https://github.com/moq/moq4}} genutzt.
	Moq ermöglicht es einfach aus Klassen Mock-Objekte zu erstellen welche dann zum Testen genutzt werden können.
	
    \subsection{ATRIP-Regeln}
	\label{subsec:atrip-regeln}

    \subsubsection{Automatic}
	Visual Studio ermöglicht es mit einem Klick alle Test Durchlaufen zu lassen und findet hier auch neue Test im Projekt \verb|PicSimTest| wenn diese mit den richtigen Attributen \verb|[TestClass]| oder \verb|[TestMethode]| versehen wurden.
	
    \subsubsection{Thorough}\label{subsec:thorough}
    Da die Klassen der Befehle und der Register den Großteil der Rechenarbeit des simulierten Pic erledigen werden diese auf ihr verhalten getestet.
    

    \subsubsection{Repeatable}
    Da für unsere Tests die Daten Statisch sind und direkt in den Test Methoden eingebettet sind sollten die Tests jederzeit,  auch auf anderen Systemen, reproduzierbare Ergebnisse liefern.

    \subsubsection{Independent}
	Um Unabhängigkeit voneinander zu haben sind die Tests für eine Klasse jeweils in einer eigenen TestClass und darin sind nur die Testmethoden für die Methoden der zu Testenden Klasse enthalten.
 	Durch die Konzeption der Tests können diese in belibiger Reihenfolge oder auch einzeln Ausgeführt werden. 
 	Dies Ermöglicht es auch einzelne Programmabschnitte zu testen ohne auf viele Tests warten zu müssen.
    \subsubsection{Professional}
    Um die Absicht des Tests klar und und einfach verständlich zu gestalten sind die Testmethoden und Testklassen Namen selbsterklärend gewählt. 
    So heißt die Klasse des Test für den im Simulator genutzten Befehl \verb|Addlw|  \verb|AddlwTest|.
    Auch die Test Methoden selbsterklärend so wird die Methode \verb|isOpCode| im Objekt Addlw von der Methode \verb|isOpCode_rightCode| auf Verhalten bei Eingabe des richtigen Codes getestet.

    \section{Programming Principles}

    \subsection{SOLID}
    
    \subsubsection{Single responsibility principle}

    \subsubsection{Open/Closed principle}

    \subsubsection{Liskov substitution principle}

    \subsubsection{Interface segregation principle}

    \subsubsection{Dependency inversion principle}

    \subsection{GRASP}

    \subsubsection{High Cohesion}

    \subsubsection{Low Coupling}
    
    \subsection{DRY -- Don't Repeat Yourself}

\end{document}
